<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="adminSqls">

<select id="getMemberList" resultType="com.kh.finalPJ.member.memberDto">
	SELECT * FROM MEMBER
	WHERE NOT AUTH=2
</select>
 
<select id="getSecessionList" resultType="com.kh.finalPJ.member.secessionDto">
	SELECT * FROM SECESSION
</select>

<select id="getGoodsList" resultType="com.kh.finalPJ.goods.goodsDto">
	SELECT * FROM STOCK FULL OUTER JOIN GOODS USING (G_CODE) 
</select>

<insert id="goodsRegist" parameterType="com.kh.finalPJ.goods.goodsDto">
	INSERT INTO GOODS VALUES(#{g_name},#{g_code},#{g_img},#{g_price})
</insert>
<insert id="stockRegist" parameterType="string">
	INSERT INTO STOCK VALUES(#{g_code},0)
</insert>

<update id="stockUpdate" parameterType="map">
	UPDATE GOODS SET ${change}='${changeAf}' WHERE G_CODE='${g_code}'
</update>
<update id="quantityUpdate" parameterType="map">
	UPDATE STOCK SET G_QUANTITY='${changeAf}' WHERE G_CODE='${g_code}'
</update>

<delete id="finalSecession" parameterType="string">
	DELETE FROM MEMBER WHERE ID=#{id}
</delete>
<update id="secessionUpdate" parameterType="string">
	UPDATE SECESSION SET STATUS=1 WHERE DEL_ID=#{id} AND STATUS=0
</update>


</mapper>